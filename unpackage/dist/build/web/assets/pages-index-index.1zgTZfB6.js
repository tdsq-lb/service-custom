import{m as e,h as s,n as a,c as t,w as r,i as l,o,a as n,b as d,r as c,F as i,d as h,t as f,e as m,S as u,f as _,g}from"./index-DTXPqL35.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=p({data:()=>({enabled:!0}),computed:{...e(["userInfo","triggered","chatUserList"])},onShow:function(){this.enabled=!0},methods:{onRefresh(){this.enabled&&(console.log("下拉刷新...onRefreshonRefresh"),this.$store.commit("SET_TRIGGERD",!0),s())},getHttpImagedUrl:e=>`${window.IMAGE_BASEURL}${e}`,hnadleJump(e){let s,t;1==e.chatType?(s=e.sendUser,t=e.sendName):(s=e.receiveUser,t=e.receiveName),this.enabled=!1,this.$store.commit("SET_CHAT_HISTORY_LIST",{type:"clear"}),this.$store.commit("SET_CHAT_USER_LIST",{type:"flag",message:e.sendTime}),this.$store.commit("SET_CURRENT_SEND_USERID",e.sendUser),a({url:`/pages/chat/chat?custUserId=${s}&sendName=${t}`})}}},[["render",function(e,s,a,p,T,y){const I=_,R=g,U=l,S=u;return o(),t(U,{class:"container"},{default:r((()=>[n(S,{"scroll-y":"",ref:"scrollView","refresher-enabled":T.enabled,"refresher-triggered":e.triggered,"refresher-background":"#f3f3f3",onRefresherrefresh:y.onRefresh,style:{height:"100vh"}},{default:r((()=>[n(U,{class:"list"},{default:r((()=>[(o(!0),d(i,null,c(e.chatUserList,(e=>(o(),t(U,{class:"list_item",key:e.msgId,onClick:s=>y.hnadleJump(e)},{default:r((()=>[n(I,{src:y.getHttpImagedUrl(1==e.chatType?e.sendAvatar:e.receiveAvatar),mode:"aspectFill",class:"avatar"},null,8,["src"]),n(U,{class:"info"},{default:r((()=>[n(U,{class:"top"},{default:r((()=>[n(R,{class:"top_name"},{default:r((()=>[h(f(1==e.chatType?e.sendName:e.receiveName),1)])),_:2},1024),n(R,{class:"top_time"},{default:r((()=>[h(f(e.time),1)])),_:2},1024)])),_:2},1024),n(U,{class:"top grayTxtColor"},{default:r((()=>[n(R,null,{default:r((()=>[h(f(e.message),1)])),_:2},1024),e.isNew?(o(),t(R,{key:0,class:"badge",style:{}},{default:r((()=>[h("●")])),_:1})):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),e.chatUserList&&0==e.chatUserList.length?(o(),t(U,{key:0,class:"empty grayTxtColor"},{default:r((()=>[h(f(e.userInfo&&"zh"==e.userInfo.language?"暂无新消息":"No new news at the moment"),1)])),_:1})):m("",!0)])),_:1})])),_:1},8,["refresher-enabled","refresher-triggered","onRefresherrefresh"])])),_:1})}],["__scopeId","data-v-cdd28257"]]);export{T as default};
